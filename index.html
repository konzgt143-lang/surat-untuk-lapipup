<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Untuk Lapipup ðŸ’—</title>

<link href="https://fonts.googleapis.com/css2?family=Patrick+Hand&display=swap" rel="stylesheet">

<style>
* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: 'Patrick Hand', cursive;
  overflow: hidden;

  /* PAPER BACKGROUND */
  background:
    linear-gradient(180deg, #fffaf5, #fdf1e6),
    repeating-linear-gradient(
      90deg,
      rgba(0,0,0,0.02),
      rgba(0,0,0,0.02) 1px,
      transparent 1px,
      transparent 80px
    ),
    repeating-linear-gradient(
      0deg,
      rgba(0,0,0,0.02),
      rgba(0,0,0,002) 1px,
      transparent 1px,
      transparent 120px
    );
}

/* ================= ENVELOPE ================= */
#envelopeScreen {
  position: fixed;
  inset: 0;
  background: inherit;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 999;
  transition: opacity 0.6s ease;
}

.envelope {
  width: 260px;
  height: 170px;
  background: #ffffff;
  border-radius: 12px;
  position: relative;
  box-shadow: 0 12px 35px rgba(0,0,0,.2);
  overflow: hidden;
  transition: transform 0.6s ease;
}

.flap {
  position: absolute;
  width: 100%;
  height: 100%;
  background: #ffe1ef;
  clip-path: polygon(0 0, 100% 0, 50% 55%);
  transform-origin: top;
  transition: transform 0.6s ease;
}

.stamp {
  position: absolute;
  width: 60px;
  height: 60px;
  background: #ff4f9a;
  border-radius: 50%;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  display: flex;
  justify-content: center;
  align-items: center;
  color: white;
  font-size: 26px;
  cursor: pointer;
}

/* ================= LOVE FALL ================= */
.love {
  position: fixed;
  top: -10px;
  font-size: 20px;
  animation: fall linear forwards;
}

@keyframes fall {
  to {
    transform: translateY(110vh);
    opacity: 0;
  }
}

/* ================= MAIN ================= */
.wrapper {
  height: 100vh;
  display: none;
  justify-content: center;
  align-items: center;
  padding: 20px;
}

.letter {
  background: #fffefb;
  width: 100%;
  max-width: 520px;
  padding: 36px 28px 42px;
  border-radius: 8px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.12);
}

.letter-header {
  display: flex;
  justify-content: space-between;
  font-size: 16px;
  color: #8a5a6b;
  margin-bottom: 28px;
}

.letter-body {
  font-size: 26px;
  color: #c84a78;
  margin-bottom: 40px;
  min-height: 70px;
  text-align: center;
}

.buttons {
  text-align: center;
}

button {
  border: none;
  border-radius: 999px;
  font-size: 18px;
  cursor: pointer;
  transition: all 0.45s ease;
  font-family: 'Patrick Hand', cursive;
}

/* YES */
#yes {
  background: #ff4f9a;
  color: white;
  padding: 16px 40px;
}

/* NO */
#no {
  background: #ffffff;
  color: #ff4f9a;
  border: 2px solid #ff4f9a;
  padding: 14px 28px;
  margin-left: 16px;
}

/* MOBILE */
@media (max-width: 480px) {
  .letter-body { font-size: 22px; }
  .letter-header { font-size: 14px; }
}
</style>
</head>

<body>

<!-- ENVELOPE -->
<div id="envelopeScreen">
  <div class="envelope" id="envelope">
    <div class="flap" id="flap"></div>
    <div class="stamp" onclick="openLetter()">ðŸ’—</div>
  </div>
</div>

<!-- LETTER -->
<div class="wrapper" id="main">
  <div class="letter">
    <div class="letter-header">
      <p><strong>Dari:</strong> Irfan</p>
      <p><strong>Untuk:</strong> Lapipup</p>
    </div>

    <div class="letter-body">
      <p id="question">Kamu mau balikan sama aku?</p>
    </div>

    <div class="buttons">
      <button id="yes" onclick="yes()">Iya</button>
      <button id="no" onclick="no()">Tidak</button>
    </div>
  </div>
</div>

<script>
function openLetter() {
  flap.style.transform = "rotateX(180deg)";
  envelope.style.transform = "scale(1.05)";

  setTimeout(() => {
    envelopeScreen.style.opacity = 0;
    setTimeout(() => {
      envelopeScreen.style.display = "none";
      main.style.display = "flex";
      startLove();
    }, 600);
  }, 600);
}

function startLove() {
  setInterval(() => {
    const love = document.createElement("div");
    love.className = "love";
    love.textContent = "ðŸ’—";
    love.style.left = Math.random() * 100 + "vw";
    love.style.animationDuration = (3 + Math.random() * 3) + "s";
    document.body.appendChild(love);
    setTimeout(() => love.remove(), 6000);
  }, 300);
}

let fase = 0;
const yesBtn = document.getElementById("yes");
const question = document.getElementById("question");

const questions = [
  "Yakin nggak mau balikan?",
  "Inget semua kebaikan aku?",
  "Aku selalu ada buat kamu",
  "Aku minta maaf atas semua salahku",
  "Semua kenangan itu nyata",
  "Aku masih orang yang sama",
  "Aku beneran serius sama kamu",
  "Aku cuma mau satu kesempatan",
  "Tolong jangan nolak aku ðŸ˜¢",
  "Aku sayang kamuâ€¦"
];

function no() {
  if (fase < questions.length) {
    question.textContent = questions[fase];
    fase++;

    yesBtn.style.padding =
      `${16 + fase * 10}px ${40 + fase * 25}px`;
    yesBtn.style.fontSize = `${18 + fase * 2}px`;
  }

  if (fase >= 10) {
    yesBtn.style.position = "fixed";
    yesBtn.style.top = 0;
    yesBtn.style.left = 0;
    yesBtn.style.width = "100vw";
    yesBtn.style.height = "100vh";
    yesBtn.style.borderRadius = 0;
    yesBtn.style.fontSize = "34px";
  }
}

function yes() {
  question.textContent =
    "TERIMAKSIHHHH SAYANGGGG ðŸ’– INFOKAN NEXT DATE ðŸ˜­âœ¨";
  document.querySelector(".buttons").style.display = "none";
}
</script>

</body>
</html>
